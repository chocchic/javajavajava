# ManyToMany - 다 대 다 관계  
* 회원 <-> 게시글 <-> 댓글

한 명의 회원은 여러 개의 게시글을 작성하는 것이 가능  
한 명의 회원은 여러 개의 게시글을 작성하는 것이 가능  
한 개의 게시글에는 여러 개의 댓글이 작성될 수 있음  
**역은 성립하지 않음**  

* 영화 리뷰 작성  
    한 명의 회원은 여러 영화에 리뷰를 남길 수 있고, 하나의 영화에 여러 회원이 리뷰를 남길 수 있음  
    
    이런 경우 회원과 영화 사이의 관계는 M:N 관계(Many To Many)  

    관계형 데이터베이스에서는 이런 관계가 존재할 수 없습니다.  
    ORM에서는 ManyToMany관계를 만들어 낼 수는 있으나 **권장하는 방법은 아닙니다.**  

    이런 경우는 양쪽 테이블의 기본키를 외래키로 갖는 별도의 테이블을 생성해서 해결  

## 1. 영화 리뷰 프로젝트
* Entity 구조  
Movie, MovieImage(영화에 대한 이미지를 가지는 테이블인데, 하나의 영화에 0개 이상의 이미지를 가짐)  

Member

Review(Movie와 Member의 기본키를 외래키로 가짐)

한꺼번에 (하나의 테이블) 저장되어야 할 내용이지만 기본키를 설정하고 난 후 하나의 기본키에 여러개의 데이터가 매칭되는 경우라면 이 정보는 별도의 테이블로 분리시켜야 하는데, 이 때 분리된 테이블은 자신만의 기본키를 가져야 하고 분리되기 전 테이블의 기본키를 외래키로 가져야 합니다.  

영화 정보
  영화 일련 번호 - 기본키  
  영화 제목 - 일련번호 1개당 1개  
  주연 배우 - 0개 이상  
  영화 이미지 - 0개 이상  
  영화 줄거리 - 일련번호 1개당 1개  

테이블 1  
영화 일련번호  
영화 제목  
영화 줄거리  

테이블 2  
배우 번호 - 기본키  
영화 일련번호 - 영화 테이블에 대한 외래키  
주연 배우  

테이블 3  
영화 이미지 번호 - 기본키  
영화 일련번호 - 영화 테이블에 대한 외래키  
영화 이미지 - 파일을 저장할 때는 방식이 2가지. 내용을 저장하고자 하면 BLOB. 경로를 저장하고자 하면 경로. 근데 경로는 유일무이해야 함  